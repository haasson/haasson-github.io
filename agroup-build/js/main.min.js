"use strict";

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

var placemarks = [{
  coords: [57.048482, 65.505779],
  category: 'expert',
  type: 'Тюменский район, 7й км Червишевского тракта, стр. 1, Соответствие нормам в области пожарной безопасности'
}, {
  coords: [57.177992, 65.923433],
  category: 'inspect',
  type: 'с. Каскара, Каскаринского МО, Объем выполненных работ'
}, {
  coords: [59.142161, 68.895473],
  category: 'expert',
  type: 'с. Уват, Объем и качество выполненных работ'
}, {
  coords: [57.150695, 65.559966],
  category: 'expert',
  type: 'г. Тюмень, ул. Максима Горького, д. 66, Причина поломки сплит-систем'
}, {
  coords: [56.407885, 68.387925],
  category: 'expert',
  type: 'Голышмановский район, р.п. Голышманово, ул. Пролетарская, 124 , Объем и качество выполненных работ'
}, {
  coords: [57.177934, 65.561241],
  category: 'expert',
  type: 'г. Тюмень, ул. Проезд заречный, д. 41, Качество выполненных работ'
}, {
  coords: [57.197400, 65.552079],
  category: 'expert',
  type: 'г. Тюмень, ул. Центральная, д.19, Планировка и застройка городских и сельских поселений'
}, {
  coords: [57.170932, 66.060193],
  category: 'expert',
  type: 'с. Борки, ул. Кооперативная 12, Соответствие нормативным требованиям '
}, {
  coords: [57.185666, 65.622156],
  category: 'expert',
  type: 'г. Тюмень, ул. Газопромысловая, д. 6, кв. 2, Качество выполненных работ'
}, {
  coords: [56.393972, 68.373893],
  category: 'expert',
  type: 'Голышмановский район, р.п. Голышманово, ул. Комсомольская, 84, Техническое состояние объекта'
}, {
  coords: [57.168389, 65.510891],
  category: 'expert',
  type: 'г. Тюмень, ул. Димитрова, 4а, Планировка и застройка городских и сельских поселений'
}, {
  coords: [57.139400, 65.567781],
  category: 'inspect',
  type: 'г. Тюмень, ул. Республики, 143 а, Расчет прочности плиты перекрытия'
}, {
  coords: [57.177934, 65.561241],
  category: 'expert',
  type: 'г. Тюмень, ул. Проезд Заречный, д.41, кв.286, Качество выполненных отделочных работ'
}, {
  coords: [57.159619, 65.656822],
  category: 'lab',
  type: 'г. Тюмень, ул. Камчатская  1, Геодезическое сопровождение'
}, {
  coords: [57.167057, 65.702636],
  category: 'expert',
  type: 'г. Тюмень, п. Яр (горячие источники), Объем, качество и стоимости фактически выполненных работ'
}, {
  coords: [57.154205, 65.425461],
  category: 'expert',
  type: 'г. Тюмень, п. Рощино, ул. Молодежная, 10а, Причины образования плесени'
}, {
  coords: [57.106390, 65.172397],
  category: 'expert',
  type: 'д. Ушакова, мкрн. Молодежный, Проезд Парковый, 10/2, Дефекты и отклонения от технологий строительного производства и стоимость их устранения'
}, {
  coords: [57.106668, 65.172837],
  category: 'expert',
  type: 'д. Ушакова, мкрн. Молодежный, проезд Парковый, 11/1, Дефекты и отклонения от технологий строительного производства и стоимость их устранения'
}, {
  coords: [57.174045, 65.517844],
  category: 'expert',
  type: 'г. Тюмень, ул. Морская, 19, Выдел доли в натуре'
}, {
  coords: [57.170834, 65.686143],
  category: 'expert',
  type: 'г. Тюмень, 13-й км Салаирского тракта, СНТ «Огонёк», ул. Огоньковая, уч. № 30, Определения типа имеющегося на земельном участке электрооборудования'
}, {
  coords: [57.129045, 65.556175],
  category: 'expert',
  type: 'г. Тюмень, ул. 30 лет Победы, д. 6, строение 8, Техническое состояние внутриплощадочных инженерных систем и ливневой канализации'
}, {
  coords: [57.138956, 65.360872],
  category: 'inspect',
  type: 'г. Тюмень, д. Решетниково, СНТ «Надежда», участок  №697, Объем выполненных работ'
}, {
  coords: [57.151964, 65.534534],
  category: 'expert',
  type: 'г. Тюмень, ул. Первомайская, 15, Определение срока полезного использования здания'
}, {
  coords: [57.153751, 65.525039],
  category: 'lab',
  type: 'г. Тюмень, ул. Орловская-Курганская-Крупской, Прочность бетона'
}, {
  coords: [57.220286, 65.507297],
  category: 'expert',
  type: 'г. Тюмень, п. Березняковский, ул. Торговая, д. 15, Выдел доли в натуре'
}, {
  coords: [56.893087, 65.896969],
  category: 'expert',
  type: 'п. Богандинский, комплекс индивидуальных гаражей по ул. Советской, гараж 9, техническое состояние объекта'
}, {
  coords: [57.045035, 65.708242],
  category: 'expert',
  type: 'п. Боровский, ул. Тельмана, д. 30, Возможность объединения двух помещений'
}, {
  coords: [56.285408, 70.436362],
  category: 'expert',
  type: 'с. Абатское, ул. Северный проезд, д. 3, Выдел доли в натуре'
}, {
  coords: [57.155684, 65.523261],
  category: 'expert',
  type: 'г. Тюмень, пер. Кольцова, д. 7, Планировка и застройка городских и сельских поселений'
}, {
  coords: [57.250785, 65.468715],
  category: 'expert',
  type: 'г. Тюмень, ДНТ «Автомобилист», ул. Грушевая, участок 531, Техническое состояние объекта'
}, {
  coords: [57.214696, 65.507468],
  category: 'expert',
  type: 'г. Тюмень, 6 км Велижанского тракта, д. 5, Соответствие требованиям технических регламентов, иных нормативных документов, проектной документации'
}, {
  coords: [57.109308, 65.519838],
  category: 'expert',
  type: 'г. Тюмень, п. Комарово, ул. Посадская, д. 46, Техническое состояние объекта'
}, {
  coords: [57.110984, 65.519766],
  category: 'expert',
  type: 'г. Тюмень, п. Комарово, проезд 6-ой Слободской, д. 38, Техническое состояние объекта'
}, {
  coords: [57.106126, 65.521985],
  category: 'expert',
  type: 'г. Тюмень, п. Комарово, проезд 4-й Посадский, д. 43, Техническое состояние объекта'
}, {
  coords: [57.110119, 65.512660],
  category: 'expert',
  type: 'г. Тюмень, п. Комарово, Проезд 3-й Слободской, д. 33, Техническое состояние объекта'
}, {
  coords: [57.111077, 65.512256],
  category: 'expert',
  type: 'г. Тюмень, п. Комарово, Проезд 3-й Слободской, д. 23, Техническое состояние объекта'
}, {
  coords: [56.521135, 66.440054],
  category: 'expert',
  type: 'Заводоуковский район, с. Гилево, ул. Молодежная, д. 14, Объем и стоимость фактически выполненных работ'
}, {
  coords: [57.211748, 65.264222],
  category: 'lab',
  type: 'с. Кулаково, ул. Березовая, уч. 172-173, Прочность бетона фундамента'
}, {
  coords: [57.166842, 65.440723],
  category: 'expert',
  type: 'г. Тюмень, ул. Институтская, д. 6/3, Выдел доли в натуре'
}, {
  coords: [57.131834, 65.570467],
  category: 'expert',
  type: 'г. Тюмень, ул. 50 лет ВЛКСМ, д. 77, Выдел доли в натуре'
}, {
  coords: [57.047121, 65.721393],
  category: 'expert',
  type: 'ул. Островского в п. Боровский, Анализ выполненных строительно-монтажных работ трубопровода'
}, {
  coords: [57.214696, 65.507468],
  category: 'expert',
  type: 'г. Тюмень, 6 км Велижанского тракта, д. 5, Соответствие требованиям технических регламентов, иных нормативных документов, проектной документации'
}, {
  coords: [57.099247, 65.558358],
  category: 'expert',
  type: 'д. Патрушева, ул. Московская, д. 92, Причины излива сточных вод системы внутреннего водопровода и канализации'
}, {
  coords: [55.410188, 65.420080],
  category: 'expert',
  type: 'с/т Черемушки-2, ул. Розовая, уч. 20, Техническое состояние объекта'
}, {
  coords: [57.154771, 65.533825],
  category: 'expert',
  type: 'г. Тюмень, ул. Ленина 57/2Б, Соответствие с требованиям СанПиН  системы приточно-вытяжной вентиляции'
}, {
  coords: [57.617127, 65.215507],
  category: 'expert',
  type: 'п. Ахманский, ул. Центральная, д. 3, Техническое состояние объекта'
}, {
  coords: [57.129851, 65.539808],
  category: 'expert',
  type: 'г. Тюмень, ул. Николая Чаплина, д. 113, строение 1, Техническое состояние объекта'
}, {
  coords: [57.157808, 65.545629],
  category: 'inspect',
  type: 'г. Тюмень, ул. Сакко 25, строение 1, Определение несущей способности основных конструкций объекта'
}, {
  coords: [57.165700, 65.598890],
  category: 'expert',
  type: 'г. Тюмень, ул. Мельникайте, д. 10, Качество выполненных работ '
}, {
  coords: [57.102264, 65.745064],
  category: 'inspect',
  type: 'г. Тюмень, ул. 5-й км Старого Тобольского тракта,4, Объем фактически выполненных работ'
}, {
  coords: [57.142887, 65.517377],
  category: 'expert',
  type: 'г. Тюмень, ул. Мира, 35, Объем и стоимость фактически выполненных работ'
}, {
  coords: [57.117142, 65.501935],
  category: 'lab',
  type: 'г. Тюмень, мкр. «Преображенский» , Определение прочности бетона и качества поставляемого материала'
}, {
  coords: [57.095341, 65.613703],
  category: 'expert',
  type: 'г. Тюмень, ул. Широтная, д. 190, корп. 4, кв. 66, Причины образования плесени'
}, {
  coords: [57.131849, 65.497371],
  category: 'expert',
  type: 'г. Тюмень ул. Московский тракт 129, строение 1, Качество выполненных работ '
}, {
  coords: [57.133891, 65.527105],
  category: 'expert',
  type: 'г. Тюмень, ул. Самарцева, д. 3, кв. 101, Качество выполненных работ, объемы и стоимость работ, необходимых для устранения выявленных недостатков'
}, {
  coords: [56.520484, 68.239245],
  category: 'expert',
  type: 'Голышмановский район, вблизи д. Горбунова, Техническое состояние, соответствие проекту'
}, {
  coords: [57.153580, 65.658951],
  category: 'inspect',
  type: 'г. Тюмень, ул. Камчатская, д. 52, Физический износ'
}, {
  coords: [57.152926, 65.658915],
  category: 'inspect',
  type: 'г. Тюмень, ул. Камчатская, д. 53, Физический износ'
}, {
  coords: [57.152667, 65.658421],
  category: 'inspect',
  type: 'г. Тюмень, ул. Камчатская, д. 59, Физический износ'
}, {
  coords: [57.152091, 65.658942],
  category: 'inspect',
  type: 'г. Тюмень, ул. Камчатская, д. 99, Физический износ'
}, {
  coords: [57.153024, 65.663182],
  category: 'inspect',
  type: 'г. Тюмень, ул. Камчатская, д. 109, Физический износ'
}, {
  coords: [57.151764, 65.660793],
  category: 'inspect',
  type: 'г. Тюмень, ул. Камчатская, д. 116, Физический износ'
}, {
  coords: [57.134760, 65.567458],
  category: 'inspect',
  type: 'г. Тюмень, ул. Геологоразведчиков, д. 2, Физический износ'
}, {
  coords: [57.172059, 65.525982],
  category: 'inspect',
  type: 'г. Тюмень, ул. Заозерная, д. 33, Физический износ'
}, {
  coords: [57.151886, 65.663182],
  category: 'inspect',
  type: 'г. Тюмень, ул. Камчатская, д. 111, Физический износ'
}, {
  coords: [57.152316, 65.659822],
  category: 'inspect',
  type: 'г. Тюмень, ул. Камчатская, д. 101, Физический износ'
}, {
  coords: [57.142115, 65.522713],
  category: 'inspect',
  type: 'г. Тюмень, ул. Мира, д. 4, Физический износ'
}, {
  coords: [57.156524, 65.630798],
  category: 'inspect',
  type: 'г. Тюмень, ул. Судостроителей, д. 3, Физический износ'
}, {
  coords: [57.189387, 65.577016],
  category: 'inspect',
  type: 'г. Тюмень, ул. Шишкова, 42, Физический износ'
}, {
  coords: [57.186007, 65.242070],
  category: 'expert',
  type: 'Тюменский район, ДНП «Соловьиная роща», Соответствие проездных дорог требованиям СНиП'
}, {
  coords: [57.174894, 65.560702],
  category: 'expert',
  type: 'г. Тюмень, проезд Заречный, д. 37, корпус 1, Качество работ по устройству рулонной кровли'
}, {
  coords: [57.110515, 65.560109],
  category: 'expert',
  type: 'г. Тюмень, ул. Дмитрия Менделеева, д. 16, Качество выполненных работ'
}, {
  coords: [57.104840, 65.447012],
  category: 'expert',
  type: 'п. Московский, ул. Привольная, участок 788, Соответствие выполненных СМР требованиям СНиП и технологии строительства'
}, {
  coords: [57.096367, 65.624860],
  category: 'expert',
  type: 'г. Тюмень, ул. Широтная, д. 199, Оценка текущего технического состояния сетей, объемы имеющихся повреждений, причины возникновения повреждений, комплекс мер по восстановлению работоспособности'
}, {
  coords: [57.114142, 65.804254],
  category: 'expert',
  type: 'д. Паренкина, ул. Алтайская, участок 549, Дефекты конструкций и отклонения от технологии строительного производства'
}, {
  coords: [57.147580, 65.488334],
  category: 'expert',
  type: 'г. Тюмень, ул. Восстания, д. 19, корпус 2, Соответствия нормам, прочность цементно-песчаной стяжки'
}, {
  coords: [57.139849, 65.547389],
  category: 'expert',
  type: 'г. Тюмень, ул. Салтыкова-Щедрина, д. 58, корп. 3, Качество работ по устройству системы канализации'
}, {
  coords: [55.466657, 27.558947],
  category: 'expert',
  type: 'пос. Большой Тараскуль, ул. Приозерная, д. 5, Соответствие проекту'
}, {
  coords: [57.114709, 65.584247],
  category: 'expert',
  type: 'г. Тюмень, Ткацкий проезд, д. 6, Возможность устройства дверного проема'
}, {
  coords: [57.152770, 65.522371],
  category: 'expert',
  type: 'г. Тюмень, ул. Туринская, д. 14, Техническое состояние объекта'
}, {
  coords: [57.045197, 65.724232],
  category: 'expert',
  type: 'Теплотрасса и водопровод от жилого дома №25 до жилого дома №27 ул. Островского в п. Боровский, Соответствие фактически выполненных работ работам, указанным в акте о приемке работ'
}, {
  coords: [57.164832, 65.435064],
  category: 'expert',
  type: 'г. Тюмень, ул. Рощинское шоссе 2, корп. 10, Качество и объем выполненных работ'
}, {
  coords: [57.115412, 65.614125],
  category: 'expert',
  type: 'г. Тюмень, ул. Новаторов, д. 12, Выявление дефектов, соответствие проекту, состав исполнительной документации'
}, {
  coords: [57.108462, 65.748118],
  category: 'expert',
  type: 'г. Тюмень, 5 км Старого Тобольского тракта, строение 11, Качество выполненных работ по устройству кровли'
}, {
  coords: [57.155426, 65.622524],
  category: 'inspect',
  type: 'г. Тюмень, ул. Элеваторная, д. 31, Физический износ'
}, {
  coords: [57.110188, 65.574761],
  category: 'expert',
  type: 'г. Тюмень, ул. В. Гольцова, д. 22, кв. 86, Стоимость восстановительного ремонта'
}, {
  coords: [57.156202, 65.445457],
  category: 'expert',
  type: 'г. Тюмень, ул. Авторемонтная, 52, Мероприятия по восстановлению СМР на объекте'
}, {
  coords: [56.957300, 65.190444],
  category: 'expert',
  type: 'д. Мичурино Тюменского района, на расстоянии 45 км от г. Тюмени, Разработка проектной документации'
}, {
  coords: [57.117309, 65.549482],
  category: 'expert',
  type: 'г. Тюмень, ул. Дмитрия Менделеева, 1а, Техническое состояние объекта'
}, {
  coords: [57.156524, 65.630798],
  category: 'expert',
  type: 'г. Тюмень, ул. Судостроителей, д. 3, Техническое состояние строительных конструкций'
}, {
  coords: [57.101315, 65.611592],
  category: 'expert',
  type: 'г. Тюмень, ул. Широтная, д. 165, к.7, кв. 30, Определение зоны ответственности за повреждения инженерной системы в жилом доме'
}, {
  coords: [57.152589, 65.522254],
  category: 'expert',
  type: 'г. Тюмень, ул. Туринская 14 и ул. Туринская 16, нарушения градостроительных и строительных норм и правил, а также противопожарных и санитарных требований, норм инсоляции при возведении строения'
}, {
  coords: [57.157764, 65.517745],
  category: 'expert',
  type: 'г. Тюмень, ул. Коммуны, д. 61 «а», Нарушения строительных норм и правил при возведении жилого дома'
}, {
  coords: [57.161044, 65.525291],
  category: 'expert',
  type: 'г. Тюмень, ул. Республики, д. 3, Техническое состояние строительных конструкций'
}, {
  coords: [56.914984, 65.549330],
  category: 'expert',
  type: 'ул. Суворова и ул. Дружбы в с. Онохино, объем и стоимость фактически выполненных работ'
}, {
  coords: [57.188319, 65.640527],
  category: 'expert',
  type: 'г. Тюмень, ул.Пражская, признаки капитального строительства'
}, {
  coords: [57.096920, 65.598656],
  category: 'expert',
  type: 'г. Тюмень, ул. Линейная, Соответствие требованиям к функциональным и техническим характеристикам объекта закупки, установленным в контракте в описании объекта закупки'
}, {
  coords: [57.202695, 65.443005],
  category: 'expert',
  type: 'г. Тюмень, проезд Воронинские горки, 101, корпус 1, Соответствие требованиям к функциональным и техническим характеристикам объекта закупки, установленным в контракте в описании объекта закупки'
}, {
  coords: [57.119317, 65.372919],
  category: 'expert',
  type: 'г. Тюмень, ул. Черемуховая и ул. Юбилейная, с/н «Елочка», нарушения градостроительных и строительных норм и правил, а также противопожарных и санитарных требований'
}, {
  coords: [57.099242, 65.625848],
  category: 'expert',
  type: 'г. Тюмень, бульвар Бориса Щербины, д. 16, кв. 139, Определение зоны ответственности за повреждения инженерной системы в жилом доме'
}, {
  coords: [57.137847, 65.590967],
  category: 'inspect',
  type: 'г. Тюмень, ул. Энергетиков, д. 45 а, Обследование стяжки пола'
}, {
  coords: [57.595790, 65.605025],
  category: 'expert',
  type: 'Нижнетавдинский район, д. Белая Дуброва, ул. Мира, д. 65, Техническое состояние'
}, {
  coords: [57.176348, 65.649896],
  category: 'expert',
  type: 'г. Тюмень, ул. Беляева, д. 29, к. 1, кв. 12, Определение зоны эксплуатационной  ответственности поврежденного элемента узла системы холодного водоснабжения\n'
}, {
  coords: [57.108423, 65.493275],
  category: 'expert',
  type: 'г. Тюмень, пос. Березняки, ул. Лесная, д. 34, Выдел доли в натуре'
}, {
  coords: [57.167682, 65.525902],
  category: 'expert',
  type: 'г. Тюмень, ул. Заозерная, д. 77, Соответствие правилам застройки, требованиям технических регламентов в части конструктивной безопасности\n'
}, {
  coords: [57.186905, 65.589179],
  category: 'expert',
  type: 'г. Тюмень, ул. Ватутина, д. 79, к.1,  кВ. № 151, Признаки указывающие на наличие протечек приборов горячего и холодного водоснабжения\n'
}, {
  coords: [57.167218, 65.642638],
  category: 'expert',
  type: 'г. Тюмень, п. Мыс, ул. Ермака, д. 2а, Объем и стоимость фактически выполненных работ'
}, {
  coords: [57.139615, 65.560918],
  category: 'expert',
  type: 'г. Тюмень, ул. Республики, д. 96, Техническое состояние'
}, {
  coords: [57.136123, 65.555842],
  category: 'expert',
  type: 'г. Тюмень, ул. Холодильная 85, строение 1, Техническое состояние кровли'
}, {
  coords: [57.115246, 65.573584],
  category: 'expert',
  type: 'г. Тюмень, ул. Пермякова, д. 62, Техническое состояние фасада здания'
}, {
  coords: [57.136240, 65.526279],
  category: 'expert',
  type: 'г. Тюмень, ул. Червишевский тракт, д. 2, Техническое состояние системы электроснабжения'
}, {
  coords: [56.519422, 60.283064],
  category: 'expert',
  type: 'д. Посохово, ул. Березовая, д. 36, Выявление дефектов, рекомендации по их устранению'
}, {
  coords: [57.153580, 65.658951],
  category: 'inspect',
  type: 'г. Тюмень, ул. Камчатская, дом 52, Техническое состояние'
}, {
  coords: [57.154737, 65.656400],
  category: 'inspect',
  type: 'г. Тюмень, ул. Камчатская, дом 88 а., Техническое состояние'
}, {
  coords: [57.152487, 65.663398],
  category: 'inspect',
  type: 'г. Тюмень, ул. Камчатская, дом 107, Техническое состояние'
}, {
  coords: [57.152775, 65.664188],
  category: 'inspect',
  type: 'г. Тюмень, ул. Камчатская, дом 110, Техническое состояние'
}, {
  coords: [57.147087, 65.497686],
  category: 'inspect',
  type: 'г. Тюмень, ул. Карла Маркса, д. 121, Техническое состояние'
}, {
  coords: [57.135293, 65.592979],
  category: 'inspect',
  type: 'г. Тюмень, ул. Парфенова, д. 20, Техническое состояние'
}, {
  coords: [57.133754, 65.579836],
  category: 'inspect',
  type: 'г. Тюмень, ул. Республики, д. 167а, Техническое состояние'
}, {
  coords: [57.132679, 65.582181],
  category: 'inspect',
  type: 'г. Тюмень, ул. Тульская, д. 8а, Техническое состояние'
}, {
  coords: [57.155269, 65.529055],
  category: 'inspect',
  type: 'г. Тюмень, ул. Урицкого, д. 28, Техническое состояние'
}, {
  coords: [57.161156, 65.555501],
  category: 'inspect',
  type: 'г. Тюмень, ул. Усиевича, д. 1, Техническое состояние'
}, {
  coords: [57.144049, 65.583259],
  category: 'inspect',
  type: 'г. Тюмень, ул. 50 лет Октября, д. 46/2, Техническое состояние'
}, {
  coords: [57.121452, 65.574312],
  category: 'expert',
  type: 'г. Тюмень, 4 заречный микрорайон, Качество выполненных работ, стоимость устранения дефектов'
}, {
  coords: [57.210958, 65.576378],
  category: 'inspect',
  type: 'Тюменский район, с/т «Калинка», Обследование дачного участка №474 и примыкающего к нему проезда'
}, {
  coords: [57.147726, 65.489843],
  category: 'expert',
  type: 'г. Тюмень, ул. Интернациональная № 140, кв. 32, строительные недостатки и отклонения от СНИП, ГОСТ и проектной документации, стоимость устранения недостатков'
}, {
  coords: [57.107973, 65.582001],
  category: 'expert',
  type: 'г. Тюмень, ул. Суходольская, д. 12, кв. 170, Выявление возможных дефектов и недостатков объекта, при приемке объекта от застройщика'
}, {
  coords: [57.157764, 65.517745],
  category: 'expert',
  type: 'г. Тюмень, ул. Коммуны, д. 61 «а», Соответствие объекта строительным нормам'
}, {
  coords: [56.956338, 65.763138],
  category: 'expert',
  type: 'п. Винзили, Техническое состояние несущих конструкций'
}, {
  coords: [57.044526, 65.716731],
  category: 'expert',
  type: 'п. Боровский, ул. Советская, д.20, Соответствие требованиям к функциональным и техническим характеристикам объекта закупки, установленным в контракте в описании объекта закупки'
}, {
  coords: [57.174430, 65.529046],
  category: 'expert',
  type: 'г. Тюмень, ул. Заозёрная, Техническое состояние системы вентиляции'
}, {
  coords: [57.152384, 65.567179],
  category: 'expert',
  type: 'г. Тюмень, ул.50 лет Октября, д.14, 11 этаж, технического состояния помещений'
}, {
  coords: [57.178621, 65.585577],
  category: 'inspect',
  type: 'г. Тюмень, ул. Дружбы 124, Несущая способность кирпичной кладки'
}, {
  coords: [57.175357, 65.455123],
  category: 'expert',
  type: 'г. Тюмень, ул. Весёлая, дом 2, Возможность демонтажа строений'
}, {
  coords: [56.396942, 68.397205],
  category: 'expert',
  type: 'р. п. Голышманово, ул. Карла Маркса, д. 1 Г, Определение соответствия уклона выполненной отмостки требованиям норм'
}, {
  coords: [57.187300, 65.503534],
  category: 'expert',
  type: 'г. Тюмень, ул. Воронинская, д. 23, Категория текущего технического состояния здания'
}, {
  coords: [56.398167, 68.358371],
  category: 'expert',
  type: 'р. п. Голышманово, ул. 8 Марта, 18В, Техническое состояние объекта, геологические изыскания грунтов'
}, {
  coords: [57.129367, 65.589502],
  category: 'expert',
  type: 'г. Тюмень, ул. Рижская, д. 82а, Техническое состояние объекта'
}, {
  coords: [57.215598, 65.286770],
  category: 'expert',
  type: 'г. Тюмень, Ирбитский тракт, слева от дороги 3 км от Рощинского кольца, участок № 75, Соответствие объекта строительным нормам и правилам'
}, {
  coords: [58.010450, 56.229434],
  category: 'expert',
  type: 'г. Пермь, Обследование помещений на предмет возможности их самостоятельного использования'
}, {
  coords: [58.201698, 68.253762],
  category: 'expert',
  type: 'г. Тобольск, Техническое состояние системы охранно-пожарной сигнализации'
}, {
  coords: [58.201698, 68.253762],
  category: 'expert',
  type: 'г. Тобольск, Объем и стоимость фактически выполненных работ по установке системы пожарной сигнализации'
}, {
  coords: [58.201698, 68.253762],
  category: 'expert',
  type: 'г. Тобольск, Причины, повлекшие неработоспособность наружных сетей водопровода'
}, {
  coords: [58.201698, 68.253762],
  category: 'inspect',
  type: 'г. Тобольск, конструктивная безопасность временного усиления конструкции плиты перекрытия'
}, {
  coords: [58.201698, 68.253762],
  category: 'expert',
  type: 'г. Тобольск, Соответствие объекта  проекту застройки микрорайона'
}, {
  coords: [58.201698, 68.253762],
  category: 'expert',
  type: 'г. Тобольск, Техническое состояние после взрыва'
}, {
  coords: [58.201698, 68.253762],
  category: 'expert',
  type: 'г. Тобольск, техническое состояние конструкций кровли  '
}, {
  coords: [58.201698, 68.253762],
  category: 'expert',
  type: 'г. Тобольск, Соответствие используемого материала требованиям ГОСТ, проектной и исполнительной документации'
}, {
  coords: [58.201698, 68.253762],
  category: 'expert',
  type: 'г. Тобольск, Соответствие работ по реконструкции требованиям нормативных документов '
}, {
  coords: [58.201698, 68.253762],
  category: 'expert',
  type: 'г. Тобольск, Соответствие требованиям к функциональным и техническим характеристикам объекта закупки, установленным в контракте в описании объекта закупки'
}, {
  coords: [58.130723, 68.596927],
  category: 'expert',
  type: 'с.Абалак, Анализ исполнительной документации'
}, {
  coords: [61.254035, 73.396221],
  category: 'expert',
  type: 'г. Сургут, Объем и стоимости выполненных работ'
}, {
  coords: [61.254035, 73.396221],
  category: 'expert',
  type: 'г. Сургут, Проектные работы'
}, {
  coords: [61.254035, 73.396221],
  category: 'expert',
  type: 'г. Сургут, Фактическое техническое состояние'
}, {
  coords: [61.254035, 73.396221],
  category: 'expert',
  type: 'г. Сургут, Анализ проектной, договорной и исполнительной документации'
}, {
  coords: [61.254035, 73.396221],
  category: 'expert',
  type: 'г. Сургут, Качество выполненных работ'
}, {
  coords: [61.254035, 73.396221],
  category: 'expert',
  type: 'г. Сургут, Фактическое техническое состояние'
}, {
  coords: [61.254035, 73.396221],
  category: 'expert',
  type: 'г. Сургут, Фактическое техническое состояние'
}, {
  coords: [61.254035, 73.396221],
  category: 'expert',
  type: 'г. Сургут, Фактическое техническое состояние'
}, {
  coords: [61.254035, 73.396221],
  category: 'expert',
  type: 'г. Сургут, Фактическое техническое состояние'
}, {
  coords: [61.254035, 73.396221],
  category: 'expert',
  type: 'г. Сургут, Соответствие требованиям к функциональным и техническим характеристикам объекта закупки, установленным в контракте в описании объекта закупки'
}, {
  coords: [61.254035, 73.396221],
  category: 'expert',
  type: 'г. Сургут, Выявление нарушений строительных, градостроительных, а так же противопожарных и санитарных требований, норм и правил'
}, {
  coords: [60.508787, 74.054201],
  category: 'expert',
  type: 'с. Угут, заповедник «Юганский» МО Сельское поселение Угут, Сургутский район, Фактическое техническое состояние'
}, {
  coords: [60.508787, 74.054201],
  category: 'expert',
  type: 'С. Угут, Соответствие требованиям к функциональным и техническим характеристикам объекта закупки, установленным в контракте в описании объекта закупки'
}, {
  coords: [65.535924, 72.531341],
  category: 'expert',
  type: 'г. Надым, Соответствие сметной документации нормам'
}, {
  coords: [65.535924, 72.531341],
  category: 'expert',
  type: 'г. Надым, Техническое состояние системы холодного водоснабжения'
}, {
  coords: [65.535924, 72.531341],
  category: 'lab',
  type: 'г.Надым, Испытания контрольных образцов бетона'
}, {
  coords: [61.003180, 69.018902],
  category: 'expert',
  type: 'г. Ханты-Мансийск, Состав и объем выполненных работ'
}, {
  coords: [61.003180, 69.018902],
  category: 'inspect',
  type: 'г. Ханты-Мансийск, Физический износ здания'
}, {
  coords: [61.003180, 69.018902],
  category: 'expert',
  type: 'г. Ханты-Мансийск, Соответствие требованиям технических регламентов, иных нормативных документов, проектной документации'
}, {
  coords: [61.003180, 69.018902],
  category: 'expert',
  type: 'г. Ханты-Мансийск, Размеры, границы и площадь земельного участка'
}, {
  coords: [61.003180, 69.018902],
  category: 'expert',
  type: 'г. Ханты-Мансийск, Техническое состояние несущих конструктивных элементов'
}, {
  coords: [61.003180, 69.018902],
  category: 'expert',
  type: 'г. Ханты-Мансийск, Причины промерзания оконных блоков, стоимость работ по устранению выявленных недостатков'
}, {
  coords: [61.003180, 69.018902],
  category: 'expert',
  type: 'г. Ханты-Мансийск, Соответствие требованиям к функциональным и техническим характеристикам объекта закупки, установленным в контракте в описании объекта закупки'
}, {
  coords: [61.003180, 69.018902],
  category: 'expert',
  type: 'г. Ханты-Мансийск, Соответствие требованиям к функциональным и техническим характеристикам объекта закупки, установленным в контракте в описании объекта закупки'
}, {
  coords: [61.040122, 76.090296],
  category: 'expert',
  type: 'Ватинское НГДУ, Объем и стоимость фактически выполненных работ'
}, {
  coords: [56.484640, 84.947649],
  category: 'expert',
  type: 'г. Томск, Техническое состояние строительных конструкций и внутренних систем инженерных коммуникаций'
}, {
  coords: [66.083963, 76.680974],
  category: 'expert',
  type: 'г. Новый Уренгой, причины разрушения и выдача рекомендаций по устранению повреждений и условий дальнейшей эксплуатации конструкции кровли'
}, {
  coords: [66.083963, 76.680974],
  category: 'expert',
  type: 'г. Новый Уренгой, Качество выполненных СМР, соответствие проектной документации'
}, {
  coords: [59.991786, 29.775846],
  category: 'expert',
  type: 'г. Кронштадт, Фактическое техническое состояние'
}, {
  coords: [60.390306, 71.885013],
  category: 'expert',
  type: 'ХМАО-Югра, Нефтеюганский район, Усть-Балыкское месторождение, Заключение негосударственной экспертизы проектной документации\n'
}, {
  coords: [60.758589, 72.836526],
  category: 'expert',
  type: 'г. Пыть-Ях, Классификация объекта к движимому или недвижимому имуществу'
}, {
  coords: [60.758589, 72.836526],
  category: 'expert',
  type: 'г. Пыть-Ях, Фактическое техническое состояние, соответствие построенного объекта градостроительному плану земельного участка'
}, {
  coords: [61.370766, 63.566793],
  category: 'expert',
  type: 'г. Советский, Объем и стоимость фактически выполненных работ'
}, {
  coords: [60.128951, 64.803216],
  category: 'expert',
  type: 'г. Урай , Фактическое техническое состояние'
}, {
  coords: [63.201801, 75.450938],
  category: 'expert',
  type: 'г. Ноябрьск, Оценка конструктивной надежности, и эксплуатационной безопасности смонтированных несущих конструкций объекта'
}, {
  coords: [63.201801, 75.450938],
  category: 'expert',
  type: 'г. Ноябрьск, Объем фактически и качественно выполненных работ'
}, {
  coords: [56.074378, 66.568073],
  category: 'expert',
  type: 'Упоровский район, с. Масали, Фактическое техническое состояние'
}, {
  coords: [61.473513, 64.050041],
  category: 'expert',
  type: 'Советский район, пгт Зеленоборск, Несоответствия (дефекты) выполненных на объекте строительно-монтажных работ требованиям проектной документации, строительных норм и правил'
}, {
  coords: [64.911819, 77.761055],
  category: 'expert',
  type: 'г. Тарко-Сале, Соответствие объекта требованиям СНиП'
}, {
  coords: [60.938545, 76.558902],
  category: 'expert',
  type: 'г. Нижневартовск, Соответствия  построенного объекта градостроительному плану земельного участка, документации, в том числе требованиям строительных норм и правил, технических регламентов'
}, {
  coords: [61.314917, 63.331964],
  category: 'expert',
  type: 'г. Югорск, Техническое состояние строительных конструкций'
}, {
  coords: [64.432625, 76.500494],
  category: 'expert',
  type: 'г. Губкинский, Фактический объем и стоимость строительных работ'
}, {
  coords: [63.795285, 74.494448],
  category: 'expert',
  type: 'г. Муравленко, Техническое состояние строительных конструкций'
}, {
  coords: [64.751575, 77.354064],
  category: 'expert',
  type: 'Пуровский район, оценка эксплуатационных качеств объекта'
}, {
  coords: [62.145759, 65.433654],
  category: 'expert',
  type: 'г. Нягань, Качество выполненных работ'
}, {
  coords: [51.375889, 128.134147],
  category: 'expert',
  type: 'Амурская область, г. Свободный, Анализ исполнительной документации'
}, {
  coords: [54.817842, 58.446423],
  category: 'expert',
  type: 'г. Трехгорный, определение технического состояния несущих и ограждающих конструкций, их внутренних и наружных инженерных систем с рекомендациями по усилению конструкций, по устранению дефектов и повреждений'
}, {
  coords: [66.868108, 68.143053],
  category: 'expert',
  type: 'г. Белоярск, Техническое состояние'
}, {
  coords: [61.549762, 66.452505],
  category: 'expert',
  type: 'Октябрьский район, п.г.т. Талинка, Техническое состояние'
}, {
  coords: [56.508808, 66.539174],
  category: 'expert',
  type: 'г. Заводоуковск, Техническое состояние'
}, {
  coords: [56.110550, 69.479639],
  category: 'expert',
  type: 'г. Ишим, Причины попадания ливневых вод в систему центральной канализации'
}, {
  coords: [57.775766, 67.640087],
  category: 'expert',
  type: 'с. Байкалово, Причины протекания дождевых вод  в помещения обследуемого объекта'
}, {
  coords: [57.486378, 67.810650],
  category: 'expert',
  type: 'ул. Центральная, д. 44, с. Новоалександровка, Ярковский район, Соответствует ли устройство деревянных полов договору, проектной документации, строительным нормам и правилам, причины разрушения'
}, {
  coords: [60.996562, 71.902458],
  category: 'expert',
  type: 'пгт. Пойковский, Соответствие требованиям к функциональным и техническим характеристикам объекта закупки, установленным в контракте в описании объекта закупки'
}, {
  coords: [61.370766, 63.566793],
  category: 'expert',
  type: 'г. Советский, Соответствие требованиям к функциональным и техническим характеристикам объекта закупки, установленным в контракте в описании объекта закупки'
}, {
  coords: [60.074460, 71.463397],
  category: 'inspect',
  type: 'Салым, Обследование отсыпки строительной площадки'
}, {
  coords: [56.508808, 66.539174],
  category: 'expert',
  type: 'г. Заводоуковск, Соответствие требованиям к функциональным и техническим характеристикам объекта закупки, установленным в контракте в описании объекта закупки'
}, {
  coords: [66.529844, 66.614399],
  category: 'expert',
  type: 'г. Салехард, Признаки капитальности объекта'
}]; // Function to make IE9+ support forEach:

function forEachIE() {
  if (typeof NodeList.prototype.forEach === "function") return false;else NodeList.prototype.forEach = Array.prototype.forEach;
}

;
/**
 * Element.closest() polyfill
 * https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill
 */

if (!Element.prototype.closest) {
  if (!Element.prototype.matches) {
    Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
  }

  Element.prototype.closest = function (s) {
    var el = this;
    var ancestor = this;
    if (!document.documentElement.contains(el)) return null;

    do {
      if (ancestor.matches(s)) return ancestor;
      ancestor = ancestor.parentElement;
    } while (ancestor !== null);

    return null;
  };
} // svg for IE11


svg4everybody();
forEachIE();

function menuHandler() {
  // Получаем меню и ссылки из него
  var menuList = document.querySelector('.menu__list');
  var menuLinks = document.querySelectorAll('.menu__item'); // Получаем псевдомассив с секциями и делаем из него массив

  var sections = document.querySelectorAll('.section');

  var sectionsArr = _toConsumableArray(sections); // Получаем позиции всех секций


  var sectionsPosition = checkSectionPosition(sectionsArr); // Получаем актуальную высоту пунктов меню

  var linkHeight = menuLinks[0].offsetHeight;
  var linkMargin = parseInt(window.getComputedStyle(menuLinks[0]).marginBottom);
  var linkTotalHeight = linkHeight + linkMargin;
  var currentSection;
  menuHandle();
  window.addEventListener('scroll', menuHandle);

  function menuHandle() {
    // Обновляем координаты секций (нужно оптимизировать)
    sectionsPosition = checkSectionPosition(sectionsArr); // Получаем текущее положение меню

    var menuPosition = getCoords(menuList).top;
    var lastElement = sectionsPosition.length - 1;
    var sectionOnView; // При скролле определяем номер секции, в которой находится меню
    // Если меню выше первой секции

    if (menuPosition < sectionsPosition[0]) sectionOnView = -1; // Если меню в последней секции
    else if (menuPosition + linkTotalHeight * lastElement > sectionsPosition[lastElement]) {
        sectionOnView = lastElement;
      } // Иначе определяем номер секции по координатам
      else {
          sectionsPosition.forEach(function (section, i, arr) {
            if (menuPosition + i * linkTotalHeight > section && menuPosition < arr[i + 1]) {
              sectionOnView = i;
            }
          });
        } // Сравниваем полученную секцию с текущей
    // Если меню не покидало пределов секции - выход

    if (sectionOnView === currentSection) return; // Если меню выше первой сецкции, то делаем все пункты меню активными
    else if (sectionOnView === -1) {
        menuLinks.forEach(function (item) {
          item.classList.add('menu__item_home');
        });
      } // Если меню в последней секции, то делаем активным соответствующий пункт и изменяем цвет
      else if (sectionOnView === lastElement) {
          menuLinks.forEach(function (item) {
            item.classList.remove('menu__item_active');
            item.classList.add('menu__item_white');
          });
          menuLinks[lastElement].classList.add('menu__item_active');
        } // В любом другом случае делаем активным соответствующий пункт
        else {
            menuLinks.forEach(function (item) {
              item.classList.remove('menu__item_active', 'menu__item_white', 'menu__item_home');
            });
            menuLinks[sectionOnView].classList.add('menu__item_active');
          } // Перезаписываем текущую секцию

    currentSection = sectionOnView;
  } // Показываем меню при наведении


  menuList.addEventListener('mouseover', function () {
    menuLinks.forEach(function (item) {
      item.classList.add('menu__item_home');
    });
    currentSection = -1;
  });
}

function quizHandler() {
  var quizBody = document.querySelector('.price__block');
  var quizResult = document.querySelector('.price__result');
  var quizGoAgain = document.querySelector('.price__again');
  var startPosition = getCoords(document.querySelector('.quiz__progress-bar')).top;
  var quizHeight = getCoords(document.querySelector('.price')).top;
  var headerHeight = document.querySelector('.header').offsetHeight; // if (document.documentElement.clientWidth > 991) {
  //    quizResult.style.height = quizBody.offsetHeight + 'px'
  // }

  var quizButtonsBlock = document.querySelector('.quiz__progress-bar');
  var quizButtons = document.querySelectorAll('.quiz .progress__point');
  var slides = document.querySelectorAll('.quiz__slide');
  var tips = document.querySelectorAll('.expert-modal');
  var quizBtnNext = document.querySelector('.quiz__button');
  quizButtonsBlock.addEventListener('click', function (e) {
    var button = e.target.closest('.progress__point');

    if (!button.classList.contains('progress__point_current')) {
      // Получаем номер нажатой кнопки
      var attr = parseInt(button.getAttribute('data-slide'));
      quizSliderHandler(attr);
    }
  });
  quizBtnNext.addEventListener('click', function () {
    // Получаем номер кнопки с классом current
    var button = quizButtonsBlock.querySelector('.progress__point_current');
    var attr = parseInt(button.getAttribute('data-slide'));

    if (attr === slides.length) {
      quizBody.style.display = 'none';
      quizResult.style.display = 'block';
      window.scrollTo(0, quizHeight - headerHeight);
    } else {
      quizSliderHandler(attr + 1);

      if (document.documentElement.clientWidth < 992) {
        window.scrollTo(0, startPosition - headerHeight);
      }

      console.log(tips[attr]);
      tips[attr - 1].classList.remove('popup-active');
      tips[attr].classList.add('popup-active');
    }
  });
  quizGoAgain.addEventListener('click', function () {
    quizBody.style.display = 'block';
    quizResult.style.display = 'none';
    quizSliderHandler(1);
  });

  function quizSliderHandler(index) {
    // Делаем все кнопки ДО заполненными, а ПОСЛЕ - неактивными
    quizButtons.forEach(function (item, i) {
      if (i + 1 < index) {
        item.classList.remove('progress__point_current');
        item.classList.add('progress__point_filled');
      } else if (i + 1 > index) {
        item.classList.remove('progress__point_filled');
        item.classList.remove('progress__point_current');
      } // Текущую кнопку делаем активной
      else item.classList.add('progress__point_current');
    }); // Прячем все слайды кроме текущего

    slides.forEach(function (item, i) {
      item.style.display = 'none';
    });
    document.querySelector(".quiz__slide_".concat(index)).style.display = 'block';
  }
}

function serviceTabsHandler() {
  var serviceSlides = document.querySelectorAll('.service__slide');
  var serviceTabs = document.querySelector('.service__toggle');
  serviceTabs.querySelector('.toggle__item').classList.add('active-btn');
  serviceTabs.addEventListener('click', function (e) {
    var tab = e.target.closest('.toggle__item');
    var tabClass = tab.getAttribute('data-service-slide');
    serviceSlides.forEach(function (item) {
      item.style.display = 'none';
    });
    serviceTabs.querySelector('.active-btn').classList.remove('active-btn');
    tab.classList.add('active-btn');
    document.querySelector(".".concat(tabClass)).style.display = 'block';
  });
}

function mapsInit() {
  // Objects Map
  ymaps.ready(function () {
    var map;
    var footerMap;

    if (document.querySelector('.object')) {
      // Указывается идентификатор HTML-элемента.
      map = new ymaps.Map("map", {
        center: [57.163001, 65.522005],
        zoom: 10,
        behaviors: ['drag'],
        controls: ['zoomControl']
      });

      if (document.documentElement.clientWidth < 992) {
        map.behaviors.disable('drag');
        map.behaviors.enable('multiTouch');
      }
    } // Footer Map


    if (document.querySelector('.footer')) {
      footerMap = new ymaps.Map("footer-map", {
        center: [57.163001, 65.522005],
        zoom: 14,
        behaviors: ['drag'],
        controls: []
      });

      if (document.documentElement.clientWidth < 992) {
        footerMap.behaviors.disable('drag');
        footerMap.behaviors.enable('multiTouch');
      }
    }

    var geoObjects = []; // Создание макета содержимого хинта.
    // Макет создается через фабрику макетов с помощью текстового шаблона.

    var HintLayout = ymaps.templateLayoutFactory.createClass("<div class='map__hint'>" + "{{ properties.address }}" + "</div>", {
      // Определяем метод getShape, который
      // будет возвращать размеры макета хинта.
      // Это необходимо для того, чтобы хинт автоматически
      // сдвигал позицию при выходе за пределы карты.
      getShape: function getShape() {
        var el = this.getElement(),
            result = null;

        if (el) {
          var firstChild = el.firstChild;
          result = new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([[0, 0], [firstChild.offsetWidth, firstChild.offsetHeight]]));
        }

        return result;
      }
    }); // placemarks.forEach(addPlacemark)

    var _loop = function _loop(i) {
      var obj = placemarks[i];
      var balloon = void 0;

      if (document.documentElement.clientWidth < 992) {
        balloon = obj.type;
      }

      var placemark = new ymaps.Placemark([obj.coords[0], obj.coords[1]], {
        address: obj.type,
        balloonContentBody: balloon
      }, {
        hintLayout: HintLayout,
        iconLayout: 'default#image',
        iconImageHref: "./svg/single/".concat(obj.category, ".svg"),
        iconImageSize: [38, 42],
        iconImageOffset: [-19, -21]
      });
      geoObjects.push(placemark);
      placemark.events.add('mouseleave', function (e) {
        // Ссылку на объект, вызвавший событие, можно получить из поля 'target'.
        e.get('target').options.set('iconImageHref', "./svg/single/".concat(obj.category, ".svg"));
      }).add('mouseenter', function (e) {
        // Ссылку на объект, вызвавший событие, можно получить из поля 'target'.
        e.get('target').options.set('iconImageHref', "./svg/single/".concat(obj.category, "-active.svg"));
      });
    };

    for (var i = 0; i < placemarks.length; i++) {
      _loop(i);
    }

    var myPlacemark = new ymaps.Placemark([57.163001, 65.522005], {
      balloonContent: 'Офис компании'
    }, {
      iconLayout: 'default#image',
      iconImageHref: './svg/single/office_location.svg',
      iconImageSize: [75, 100],
      iconImageOffset: [-37, -100]
    });
    var footerPlacemark = new ymaps.Placemark([57.163001, 65.522005], {
      balloonContent: 'Офис компании'
    }, {
      iconLayout: 'default#image',
      iconImageHref: './svg/single/office_location.svg',
      iconImageSize: [75, 100],
      iconImageOffset: [-37, -100]
    });
    var MyIconContentLayout = ymaps.templateLayoutFactory.createClass('<div class="map__cluster">$[properties.geoObjects.length]</div>');
    var clusterer = new ymaps.Clusterer({
      clusterIcons: [{
        href: './svg/single/cluster.svg',
        size: [60, 60],
        offset: [-30, -30]
      }],
      clusterIconContentLayout: MyIconContentLayout
    });
    clusterer.add(geoObjects);
    map.geoObjects.add(clusterer);
    footerMap.geoObjects.add(footerPlacemark);
    map.geoObjects.add(myPlacemark);
  });
}

function scrollAnimations() {
  var timing = document.querySelector('.timing');
  var timingCoords = getCoords(timing).top;
  var timingProgress = document.querySelector('.timing__progress');
  var timingButtons = timingProgress.querySelectorAll('.progress__point');
  var slider = document.querySelector('.timing__slider');
  var sliderBody = document.querySelector('.timing__slider-inner');
  var serviceAnimatedBlocks = document.querySelectorAll('.about__item'); // Ширина анимируемого блока

  var sliderBodyWidth = parseInt(window.getComputedStyle(sliderBody).width); // Текущее смещение блока

  var shift = 0.1; // Предельная граница смещения

  var edge = sliderBodyWidth / 7 * 6;
  var step = edge / 6;
  var currentStep = 1; // Инициализация ползунка

  var range = document.querySelector('.timing__range');
  rangeInit(); // Инициализация слайдера

  var scene;
  var isScene = false;
  ScrollMagicInit();
  var start; // Действия при перемещении бегунка вручную

  range.noUiSlider.on('slide', function () {
    shift = +range.noUiSlider.get();

    if (document.documentElement.clientWidth > 991) {
      if (isScene) {
        window.scrollTo(0, start + shift);
      } else {
        scene.destroy(true);
        slider.scrollLeft = shift;
      }
    } else {
      slider.scrollLeft = shift;
    }
  });
  var position;
  slider.addEventListener('scroll', function () {
    if (document.documentElement.clientWidth > 420) {
      position = Math.ceil((slider.scrollLeft + 10) / step);
    } else {
      position = Math.ceil((slider.scrollLeft + 1) / step);
    }

    timingProgressHandler();
  }); // Действия при перемещении бегунка

  range.noUiSlider.on('update', function () {
    position = Math.ceil((shift + 12) / step);
    timingProgressHandler();
  });

  function timingProgressHandler() {
    if (position === currentStep) return;

    if (position > currentStep) {
      currentStep = position;

      for (var i = 0; i < position; i++) {
        timingProgress.querySelector(".progress__point_timing-".concat(i + 1)).classList.add('progress__point_filled');
      }
    } else if (position < currentStep) {
      currentStep = position;

      for (var _i = position; _i < timingButtons.length; _i++) {
        timingProgress.querySelector(".progress__point_timing-".concat(_i + 1)).classList.remove('progress__point_filled');
      }
    }
  }

  timingProgress.addEventListener('click', function (e) {
    var flag = true;
    var button = e.target.closest('.progress__point');

    for (var i = 0; i < timingButtons.length; i++) {
      if (flag) timingButtons[i].classList.add('progress__point_filled');else timingButtons[i].classList.remove('progress__point_filled');

      if (button == timingButtons[i]) {
        flag = false;
        shift = step * i;
        range.noUiSlider.set(shift);
        slider.scrollLeft = shift;
      }
    }
  });

  function rangeInit() {
    noUiSlider.create(range, {
      start: 0,
      animate: false,
      range: {
        min: 0,
        max: edge
      }
    });
  }

  function ScrollMagicInit() {
    var controller = new ScrollMagic.Controller();

    if (document.documentElement.clientWidth > 1440) {
      scene = new ScrollMagic.Scene({
        offset: timingCoords,
        duration: edge // triggerHook: 1

      }).setPin("#pinContainer").addIndicators().addTo(controller);
      start = scene.scrollOffset();
      scene.on("progress", function (event) {
        isScene = false;
        if (event.state === 'BEFORE') range.noUiSlider.set(0);else if (event.state === 'AFTER') {
          // scene.destroy(true);
          // window.scrollTo(0, start)
          range.noUiSlider.set(edge);
          slider.scrollLeft = shift;
        } else if (event.state === 'DURING') {
          isScene = true;
          shift = window.pageYOffset - start;
          range.noUiSlider.set(shift);
          slider.scrollLeft = shift;
        }
      });
    }

    serviceAnimatedBlocks.forEach(function (elem) {
      new ScrollMagic.Scene({
        triggerElement: elem,
        offset: 50,
        triggerHook: 0.85
      }).setClassToggle(elem, 'about__item_visible').addTo(controller);
    });
    var projectsBlock = document.querySelector('.projects__inner');
    new ScrollMagic.Scene({
      triggerElement: projectsBlock,
      // offset: 50,
      triggerHook: 0.9
    }).setClassToggle(projectsBlock, 'projects__inner_visible').addTo(controller);
    var headerPopup = document.querySelector('.header-popap-mini-wrap');
    new ScrollMagic.Scene({
      triggerElement: headerPopup,
      // offset: 50,
      triggerHook: 0.9,
      reverse: false
    }).setClassToggle(headerPopup, 'popup-active').addTo(controller);
  }
}

function slidersInit() {
  $('.sertificate__items').slick({
    slidesToShow: 3,
    slidesToScroll: 1,
    infinite: false,
    arrows: false,
    responsive: [{
      breakpoint: 600,
      settings: {
        slidesToShow: 1,
        arrows: true,
        prevArrow: $('.sertificate__arrow-left'),
        nextArrow: $('.sertificate__arrow-right')
      }
    }]
  });
  $('.equipment__slider').slick({
    infinite: false,
    prevArrow: $('.equipment__arrow-left'),
    nextArrow: $('.equipment__arrow-right')
  });
  $('.equipment__line > img').click(function () {
    console.log(1);
    $('.equipment__slider').slick('slickGoTo', $(this).index());
  });
  $('.expert__slider').slick({
    infinite: false,
    prevArrow: $('.expert__arrow-left'),
    nextArrow: $('.expert__arrow-right')
  });
  $('.expert__worker > div').click(function () {
    $('.expert__slider').slick('slickGoTo', $(this).index());
  });
  var projects = document.querySelector('.projects');
  var projectsTabs = document.querySelector('.projects__toggle');
  var projectsTotal = document.querySelector('.projects__total');
  var projectsCurrent = document.querySelector('.projects__count');
  $('.projects__slider').slick({
    infinite: false,
    fade: true,
    prevArrow: $('.arrow-left'),
    nextArrow: $('.arrow-right')
  });
  $('.projects__slider').on('afterChange', function (event, slick, currentSlide, nextSlide) {
    projectsCurrent.innerHTML = currentSlide + 1;
  });
  projectsTabs.addEventListener('click', function (e) {
    var tab = e.target.closest('.toggle__item');
    var tabClass = tab.getAttribute('data-project-btn');
    projectsTabs.querySelector('.active-btn').classList.remove('active-btn');
    tab.classList.add('active-btn');

    if (tabClass !== null) {
      $('.projects__slider').slick('slickUnfilter');
      $('.projects__slider').slick('slickFilter', "[data-project-type=\"".concat(tabClass, "\"]"));
    } else {
      $('.projects__slider').slick('slickUnfilter');
    }

    var length = projects.querySelectorAll('.projects__slide').length;
    projectsTotal.innerHTML = length;
    projectsCurrent.innerHTML = 1;
    $('.projects__slider').slick('slickGoTo', 0);
  });
}

function scrollbarInit() {
  jQuery(document).ready(function () {
    jQuery('.scrollbar-outer').scrollbar({
      ignoreMobile: true
    });
  });
}

function expertCardHandler() {
  var expertBtn = document.querySelector('.expert__link');
  var expertResume = document.querySelector('.expert__resume-inner');
  var expertCard = document.querySelector('.expert__consultation');
  expertBtn.addEventListener('click', function () {
    expertResume.style.display = 'none';
    expertCard.style.display = 'block';
  });
}

function scrollToAnchor() {
  var links = document.querySelectorAll('.menu__item');
  var sections = document.querySelectorAll('.section');
  links.forEach(function (item, i) {
    item.addEventListener('click', function (e) {
      var section = sections[i];
      window.scrollTo({
        top: getCoords(section).top,
        behavior: 'smooth'
      });
    });
  });
}

function magnificPopupsInit() {
  var galleries = document.querySelectorAll('.projects .popup-gallery');
  galleries.forEach(function (element) {
    $(element).magnificPopup({
      delegate: 'a',
      type: 'image',
      tLoading: 'Loading image #%curr%...',
      mainClass: 'custom-mfp',
      gallery: {
        enabled: true,
        navigateByImgClick: true,
        preload: [0, 1] // Will preload 0 - before current, and 1 after the current image

      },
      image: {
        tError: '<a href="%url%">The image #%curr%</a> could not be loaded.'
      }
    });
  });
  $('.sertificate .popup-gallery').magnificPopup({
    delegate: 'a.sertificate__image',
    type: 'image',
    tLoading: 'Loading image #%curr%...',
    mainClass: 'custom-mfp',
    showCloseBtn: true,
    fixedContentPos: true,
    fixedBgPos: true,
    gallery: {
      enabled: true,
      navigateByImgClick: true,
      preload: [0, 1] // Will preload 0 - before current, and 1 after the current image

    },
    image: {
      tError: '<a href="%url%">The image #%curr%</a> could not be loaded.'
    }
  });
  var expertDimlomas = document.querySelectorAll('.expert .popup-gallery');
  expertDimlomas.forEach(function (item) {
    $(item).magnificPopup({
      delegate: 'a.expert__diplom',
      type: 'image',
      tLoading: 'Loading image #%curr%...',
      mainClass: 'custom-mfp',
      showCloseBtn: true,
      fixedContentPos: true,
      fixedBgPos: true,
      gallery: {
        enabled: true,
        navigateByImgClick: true,
        preload: [0, 1] // Will preload 0 - before current, and 1 after the current image

      },
      image: {
        tError: '<a href="%url%">The image #%curr%</a> could not be loaded.'
      }
    });
  });
  $('.popup-with-form').magnificPopup({
    type: 'inline',
    preloader: false,
    showCloseBtn: true,
    fixedContentPos: true,
    fixedBgPos: true,
    mainClass: 'custom-mfp custom-mfp-form' // callbacks: {
    //    open: function () {
    //       $('.custom-mfp .close').on('click', function (event) {
    //          event.preventDefault();
    //          jQuery.magnificPopup.close();
    //       });
    //    },
    // }

  });
  $('.enabled[type="submit"]').magnificPopup({
    items: {
      src: '#callback',
      type: 'inline',
      mainClass: 'custom-mfp',
      preloader: false,
      showCloseBtn: false,
      fixedContentPos: true,
      fixedBgPos: true
    }
  });
  $('.end-step[type="submit"]').magnificPopup({
    items: {
      src: '#end',
      type: 'inline',
      mainClass: 'custom-mfp',
      preloader: false,
      showCloseBtn: false,
      fixedContentPos: true,
      fixedBgPos: true
    }
  });
  $('.exit-popup').magnificPopup({
    type: 'inline',
    preloader: false,
    showCloseBtn: false,
    fixedContentPos: true,
    fixedBgPos: true,
    mainClass: 'custom-mfp',
    callbacks: {
      open: function open() {
        $('.custom-mfp .close').on('click', function (event) {
          // event.preventDefault();
          jQuery.magnificPopup.close();
        });
      }
    } // callbacks: {
    //    close: $(document).bind('exitintent',
    //       function () {
    //          console.log('Oops... trying to leave the page');
    //          $('.exit-popup').magnificPopup('open');
    //       })
    // }

  });
}

window.onload = function () {
  if (document.documentElement.clientWidth > 1441) {
    scrollToAnchor();
    menuHandler();
  }

  serviceTabsHandler();
  mapsInit();
  quizHandler();
  slidersInit();
  scrollbarInit();
  expertCardHandler();
  scrollAnimations();
  magnificPopupsInit();
  $.exitIntent('enable');
  var now, lastDatePopupShowed;
  now = new Date();

  if (localStorage.getItem('lastDatePopupShowed') !== null) {
    lastDatePopupShowed = new Date(parseInt(localStorage.getItem('lastDatePopupShowed')));
  }

  if (now - lastDatePopupShowed >= 15 * 86400000 || !lastDatePopupShowed) {
    $(document).bind('exitintent', function () {
      console.log('Oops... trying to leave the page');
      jQuery.magnificPopup.open({
        items: {
          src: '#check-list'
        },
        type: 'inline'
      }, 0);
    });
    localStorage.setItem('lastDatePopupShowed', now);
  }
}; // Фукнция проверки координат элементов массива


function checkSectionPosition(arr) {
  return arr.map(function (section) {
    return getCoords(section).top;
  });
} // Функция получения координат элемента


function getCoords(elem) {
  var box = elem.getBoundingClientRect();
  return {
    top: box.top + window.pageYOffset,
    left: box.left + window.pageXOffset
  };
} //Движение хедера


function headerHandler() {
  var header = document.querySelector('.header');
  var headerButton = document.querySelector('.header__button');
  var flag = 0;

  if (window.pageYOffset > flag) {
    getHeaderUp();
  }

  function getHeaderUp() {
    header.classList.add('header-disabled');
    headerButton.classList.add('header__button_black', 'header__button_single');

    if (window.pageYOffset === 0) {
      headerButton.classList.remove('header__button_black');
    }
  } //скролл вниз


  function getHeaderDown() {
    if (window.pageYOffset < flag) {
      header.classList.remove('header-disabled');
      headerButton.classList.remove('header__button_single');
    }

    flag = window.pageYOffset;
  }

  window.addEventListener('scroll', getHeaderUp);
  window.addEventListener('scroll', getHeaderDown); //скрываем хедер при переходе по пункту меню (работает только при скролле вниз)
  // menuLinks.addEventListener('click', headerUp)
}

if (window.innerWidth > 1440) {
  headerHandler();
} //Движение мобильного меню


function moveMobileMenu() {
  var overlay = document.querySelector('.menu-mobile');
  var menu = document.querySelector('.menu-mobile__nav');
  var hamburger = document.querySelector('.header__hamburger');
  var close = document.querySelector('.menu-mobile__link');
  hamburger.addEventListener('click', function () {
    document.body.style.overflowY = 'hidden';
    document.body.classList.add('overflow-hidden');
    overlay.classList.add('visible');
    menu.classList.add('menu-visible');
  });

  function getMenuHidden() {
    document.body.style.overflowY = 'scroll';
    document.body.classList.remove('overflow-hidden');
    overlay.classList.remove('visible');
    menu.classList.remove('menu-visible');
  }

  menu.addEventListener('click', getMenuHidden);
  close.addEventListener('click', getMenuHidden);
  window.addEventListener('click', function (e) {
    if (e.target === overlay) {
      getMenuHidden();
    }
  });
}

moveMobileMenu(); //Форма расчета стоимости экспертизы

function getCalculationPriceExamination() {
  var formPrice = document.forms['quiz__form'];
  var radioInput = formPrice.querySelectorAll('.quiz__input');
  var textInput = formPrice.querySelectorAll('.quiz__input-more');

  var removeCheckRadio = function removeCheckRadio() {
    radioInput.forEach(function (item) {
      if (item.checked) {
        item.checked = false;
      }
    });
  };

  var cleanTextInput = function cleanTextInput() {
    textInput.forEach(function (item) {
      item.value = '';
    });
  };

  textInput.forEach(function (elem) {
    elem.addEventListener('click', removeCheckRadio);
    elem.addEventListener('input', function () {
      console.log(this.value);
    });
  });
  var arr = [];
  radioInput.forEach(function (item) {
    item.addEventListener('change', function () {
      if (item.checked) {
        arr.push(item.getAttribute('name'), item.value); //console.log(this.value);
        // console.log(this.getAttribute('name'))
      }

      console.log(arr);
      cleanTextInput();
    });
  });
}

getCalculationPriceExamination(); //Закрытие маленького модального окна с экспертом

function closePopupExpert() {
  var modals = document.querySelectorAll('.side-popup');
  modals.forEach(function (popup) {
    var closeBtn = popup.querySelector('.close-mini');
    closeBtn.addEventListener('click', function () {
      popup.classList.remove('popup-active');
    });
  });
}

closePopupExpert();

function showPopupStandart() {
  var link = document.querySelector('.conclusion__item_border');
  var popup = document.querySelector('.standart');
  link.addEventListener('mouseenter', function () {
    popup.style.display = 'block';
  });
  link.addEventListener('mouseleave', function () {
    popup.style.display = 'none';
  });
}

showPopupStandart(); //Изменение социальных иконок в попапе

function changeSocialIcon() {
  var icon = document.querySelectorAll('.registry__round');
  var iconGray = document.querySelector('.registry__round_gray');
  var iconGreen = document.querySelector('.registry__round_green');
  var iconPurple = document.querySelector('.registry__round_purple');
  var email = document.querySelector('.registry__input_email');
  var phone = document.querySelector('.registry__input_phone');
  var active = document.getElementsByClassName('z-index');
  Array.from(icon).forEach(function (item) {
    item.addEventListener('click', function () {
      if (active.length > 0 && active[0] !== this) // если есть активный элемент, и это не тот по которому кликнули
        active[0].classList.remove('z-index');
      this.classList.toggle('z-index');
    });
  });

  function changeSocialPlaceholderInput() {
    email.classList.add('disabled');
    phone.classList.add('active');
    email.classList.remove('active');
    phone.classList.remove('disabled');
  }

  function changeLetterPlaceholderInput() {
    email.classList.add('active');
    phone.classList.add('disabled');
    email.classList.remove('disabled');
    phone.classList.remove('active');
  }

  iconPurple.addEventListener('click', changeSocialPlaceholderInput);
  iconGreen.addEventListener('click', changeSocialPlaceholderInput);
  iconGray.addEventListener('click', changeLetterPlaceholderInput);
}

changeSocialIcon();
var time = document.querySelector('.input-time');
var textNow = document.querySelector('.call__time-now');
time.addEventListener('input', function () {
  if (time.value) {
    textNow.style.opacity = "0.3";
  } else textNow.style.opacity = "1";
});
textNow.addEventListener('click', function () {
  time.value = '';
  textNow.style.opacity = "1";
});
var clientName = '';

function isValidation() {
  var inputs = document.querySelectorAll('[type="tel"]');
  var submits = document.querySelectorAll('[type="submit"]');
  inputs.forEach(function (input) {
    var submit = input.closest('form').querySelector('[type="submit"]');
    input.addEventListener('focus', function () {
      // Убираем ошибку
      input.classList.remove('phone-achtung');
      input.closest('.label').classList.remove('error-valid');
    });
    input.addEventListener('keyup', function () {
      if (input.value.indexOf('_') === -1) {
        // Выводим галочку
        input.classList.add('phone-ok'); // Делаем кнопку enabled

        submit.classList.add('enabled');
      } else {
        // Удаляем галочку
        input.classList.remove('phone-ok'); // Делаем кнопку disabled

        submit.classList.remove('enabled');
      }
    });
  });
  submits.forEach(function (submit) {
    var form = submit.closest('form');
    var errorMsg = form.querySelector('.label');
    var route = form.getAttribute('data-route');
    form.addEventListener('submit', function (e) {
      route = form.getAttribute('data-route');
      e.preventDefault();

      if (submit.classList.contains('enabled')) {
        var inputName = form.querySelector('input.name');

        if (inputName) {
          clientName = inputName.value;
        }

        jQuery.magnificPopup.open({
          items: {
            src: "#".concat(route)
          },
          type: 'inline'
        }, 0);
        var nameSpan = document.querySelectorAll('.client-name');

        if (nameSpan) {
          nameSpan.forEach(function (item) {
            item.innerHTML = clientName === '' ? 'Спасибо за заявку!' : clientName + ', спасибо за заявку!';
          });
        }
      } else {
        form.querySelector('[type="tel"]').classList.add('phone-achtung');
        errorMsg.classList.add('error-valid');
      }
    });
  });
}

isValidation();
$(".phone").mask("+7 999 999 9999", {
  autoclear: false
});