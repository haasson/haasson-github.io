(function(t){function e(e){for(var r,s,c=e[0],o=e[1],l=e[2],d=0,p=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var o=n[c];0!==i[o]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={app:0},a=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/libertex/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"45b4":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=n("1dce"),a=n.n(i),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("InvestmentForm"),n("input",{staticClass:"url-input",attrs:{type:"text",placeholder:"Введите url сервера для отправки данных"},on:{change:t.changeUrl}})],1)},c=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"card",on:{submit:function(e){return e.preventDefault(),t.submitHandler(e)}}},[n("h3",{staticClass:"card__title"},[t._v("Инвестировать сейчас")]),n("div",{staticClass:"card__body"},[n("AmountInput",{staticClass:"card__line",attrs:{id:"amount",label:"Сумма инвестиции",currency:"$",minValue:100,defaultVal:5e3,range:[0,2e5]}}),n("Multiplier",{staticClass:"card__line",attrs:{id:"multiplier",minValue:1,maxValue:40,defaultVal:40,range:[0,99]}}),n("div",{staticClass:"card__limits"},[n("span",{staticClass:"card__toggle-limits",class:t.isCheckboxes?"card__toggle-limits_active":"",on:{click:function(e){t.isCheckboxes=!t.isCheckboxes}}},[t._v("Ограничить прибыль и убыток")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isCheckboxes,expression:"isCheckboxes"}],staticClass:"card__checkboxes"},[n("CurrencyRadios",{staticClass:"card__line card__line_radios"}),n("CheckedInput",{staticClass:"card__line",attrs:{id:"profit",label:"Прибыль",range:{min:10}}}),n("CheckedInput",{staticClass:"card__line",attrs:{id:"loss",label:"Убыток",range:{min:10,max:100}}})],1)]),n("div",{staticClass:"card__buttons"},[n("Button",{staticClass:"card__submit",attrs:{direction:"reduction"}}),n("Button",{staticClass:"card__submit",attrs:{direction:"growth"}})],1)],1)])},l=[],u=(n("a623"),n("07ac"),n("bc3a")),d=n.n(u),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input"},[n("label",{staticClass:"input__label",attrs:{for:t.id}},[t._v(t._s(t.label))]),n("div",{staticClass:"input__block"},[n("span",{staticClass:"input__currency"},[t._v(t._s(t.currency))]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.value,expression:"value",modifiers:{trim:!0}}],staticClass:"input__field",class:{invalid:!t.$v.value.required||!t.$v.value.minValue},attrs:{autocomplete:"off",type:"text",id:t.id},domProps:{value:t.value},on:{input:[function(e){e.target.composing||(t.value=e.target.value.trim())},t.onInput],blur:function(e){return t.$forceUpdate()}}}),t.$v.value.minValue?t.$v.value.required?t._e():n("span",{staticClass:"error-tip"},[t._v("Это поле должно быть заполнено")]):n("span",{staticClass:"error-tip"},[t._v(" Минимальная сумма инвестиции "),n("span",{staticClass:"error-tip_underline"},[t._v("$ "+t._s(t.minValue))])])])])},v=[],m=(n("a9e3"),n("b5ae")),h={props:{id:String,label:String,currency:String,minValue:Number,defaultVal:Number,range:Array},data:function(){return{value:null,pattern:/^\d+$/,isValid:!0}},validations:function(){return{value:{required:m["required"],minValue:Object(m["minValue"])(this.$props.minValue)}}},mounted:function(){this.value=this.defaultVal,this.$store.commit("setAmount",this.defaultVal)},methods:{onInput:function(t){var e=t.target.value;e.length>0&&!this.pattern.test(e)||e<this.range[0]||e>this.range[1]?this.value=this.$store.getters.getAmount:(this.$store.commit("setAmount",e),this.$v.$touch(),this.isValid=!this.$v.$invalid)}},watch:{isValid:function(){this.$store.commit("setValidate",{amount:this.isValid})}}},f=h,b=n("2877"),_=Object(b["a"])(f,p,v,!1,null,"596bdcb9",null),g=_.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input"},[n("label",{staticClass:"input__label",attrs:{for:t.id}},[t._v("Мультипликатор")]),n("div",{staticClass:"input__block"},[n("span",{staticClass:"input__mlt"},[t._v("+")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.value,expression:"value",modifiers:{trim:!0}}],ref:"input",staticClass:"input__field input__field_small",class:{invalid:!t.$v.value.required||!t.$v.value.between},attrs:{autocomplete:"off",type:"text",id:t.id},domProps:{value:t.value},on:{input:[function(e){e.target.composing||(t.value=e.target.value.trim())},t.onInput],focus:function(e){t.isRange=!0},blur:function(e){return t.$forceUpdate()}}}),n("span",{staticClass:"input__result"},[t._v(" = $ "+t._s(t.total))]),t.$v.value.required?t.$v.value.between?t._e():n("span",{staticClass:"error-tip"},[t._v("Неверное значение мультипликатора")]):n("span",{staticClass:"error-tip"},[t._v("Это поле должно быть заполнено")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isRange,expression:"isRange"}],ref:"rangeWrap",staticClass:"multiply__range"},[n("div",{ref:"range"})])])},$=[],x=n("e9fa"),k=n.n(x),O={props:{id:String,label:String,currency:String,minValue:Number,maxValue:Number,defaultVal:Number,range:Array},data:function(){return{value:null,isRange:!1,pattern:/^\d+$/,isValid:!0}},validations:function(){return{value:{required:m["required"],between:Object(m["between"])(this.minValue,this.maxValue)}}},mounted:function(){var t=this;this.value=this.defaultVal,this.$store.commit("setMultiplier",this.value);var e=this.$refs,n=e.input,r=e.rangeWrap;document.addEventListener("click",(function(e){e.target!==n&&null===e.target.closest(".".concat(r.classList.value))&&(t.isRange=!1)}));var i=this.$refs.range;k.a.create(i,{start:40,connect:"lower",step:1,animate:!0,animationDuration:300,range:{min:0,max:40},pips:{mode:"values",values:[1,5,20,40],density:1/0}}),i.noUiSlider.on("slide",(function(e,n){var r=Math.round(e[n]);t.value=r,t.$store.commit("setMultiplier",r),t.isValid=!t.$v.$invalid}))},methods:{onInput:function(t){var e=t.target.value;e.length>0&&!this.pattern.test(e)||e<this.range[0]||e>this.range[1]?this.value=this.$store.getters.getMultiplier:(this.$store.commit("setMultiplier",e),this.isValid=!this.$v.$invalid,this.$refs.range.noUiSlider.set(e),this.$v.$touch())}},computed:{total:function(){return this.$store.getters.getFormattedTotal}},watch:{isValid:function(){this.$store.commit("setValidate",{multiply:this.isValid})}}},C=O,V=(n("742e"),Object(b["a"])(C,y,$,!1,null,null,null)),w=V.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input"},[n("span",{staticClass:"input__label"},[t._v(" Ограничения в ")]),n("div",{staticClass:"input__block"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currency,expression:"currency"}],attrs:{type:"radio",name:"currency",value:"percent"},domProps:{checked:t._q(t.currency,"percent")},on:{change:function(e){t.currency="percent"}}}),t._v(" % "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currency,expression:"currency"}],attrs:{type:"radio",name:"currency",value:"dollar"},domProps:{checked:t._q(t.currency,"dollar")},on:{change:function(e){t.currency="dollar"}}}),t._v(" $ ")])])},P=[],S={data:function(){return{currency:""}},mounted:function(){this.currency=this.$store.getters.getCurrency},watch:{currency:function(){this.$store.commit("setCurrency",this.currency)}}},M=S,D=Object(b["a"])(M,j,P,!1,null,"c7ec1102",null),A=D.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.checkbox,expression:"checkbox"}],attrs:{id:t.id,type:"checkbox",name:t.id+"-checkbox"},domProps:{checked:Array.isArray(t.checkbox)?t._i(t.checkbox,null)>-1:t.checkbox},on:{change:function(e){var n=t.checkbox,r=e.target,i=!!r.checked;if(Array.isArray(n)){var a=null,s=t._i(n,a);r.checked?s<0&&(t.checkbox=n.concat([a])):s>-1&&(t.checkbox=n.slice(0,s).concat(n.slice(s+1)))}else t.checkbox=i}}}),n("label",{staticClass:"input__label",attrs:{for:t.id}},[t._v(t._s(t.label))]),n("div",{staticClass:"input__block"},[n("span",{staticClass:"input__currency"},[t._v(t._s(t.currencySymbol))]),n("input",{staticClass:"input__field",class:t.validate,attrs:{type:"number",name:"currency",disabled:!t.checkbox},domProps:{value:t.value},on:{input:t.onInput}}),!t.$v.value.minValue&&t.checkbox?n("span",{staticClass:"error-tip"},[t._v(" Не может быть меньше "),n("span",{staticClass:"error-tip_underline"},[t._v(t._s(t.errorSum))])]):t._e(),!t.$v.value.maxValue&&t.checkbox?n("span",{staticClass:"error-tip"},[t._v(" Не может быть больше "),n("span",{staticClass:"error-tip_underline"},[t._v(t._s(t.errorSum))])]):t._e()])])},I=[],E=(n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),q=n("2f62");function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){Object(E["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var U={props:{id:String,label:String,range:Object},data:function(){return{value:null,checkbox:!1,pattern:/^\d+$/,isValid:!0}},validations:function(){var t=this.range,e=t.min,n=t.max,r=void 0===n?Math.pow(10,100):n,i="percent"===this.currency?{minValue:Object(m["minValue"])(e),maxValue:Object(m["maxValue"])(r)}:{minValue:Object(m["minValue"])(this.total*e/100),maxValue:Object(m["maxValue"])(this.total*r/100)};return{value:i}},mounted:function(){this.value="dollar"===this.currency?.3*this.total:30},methods:{onInput:function(t){this.value=t.target.value,this.isValid=!this.$v.$invalid,this.$v.$touch()}},computed:F({},Object(q["b"])({total:"getTotal",currency:"getCurrency"}),{currencySymbol:function(){return"dollar"===this.currency?"$":"%"},validate:function(){return{invalid:this.checkbox&&(!this.$v.value.minValue||"loss"===this.id&&!this.$v.value.maxValue)}},errorSum:function(){var t,e=this.range,n=e.min,r=e.max;return this.$v.value.minValue?this.$v.value.maxValue||(t=r):t=n,"dollar"===this.currency?"$ ".concat(this.total*t/100):t+"%"}}),watch:{total:function(){this.$v.value.$dirty||(this.value="dollar"===this.currency?Math.round(.3*this.total):30)},currency:function(){var t=this.value;this.value="percent"===this.currency?Math.round(t/this.total*100):Math.round(t*this.total/100)},isValid:function(){var t={},e=!this.checkbox||this.isValid;t[this.id]=e,this.$store.commit("setValidate",t)},checkbox:function(){this.isValid=!this.checkbox||!this.$v.$invalid,this.$store.commit("setValue",{id:this.id,checked:this.checkbox})},value:function(){var t={value:this.value,id:this.id,checked:this.checkbox};this.$store.commit("setValue",t)}}},R=U,B=Object(b["a"])(R,N,I,!1,null,"9b83a640",null),L=B.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"button",class:"button_"+t.checkDirection,attrs:{type:"submit"},on:{click:t.setDirection}},[n("span",{staticClass:"button__text"},[t._v(t._s(t.innerText))])])},J=[],W={props:{direction:String},methods:{setDirection:function(){this.$store.commit("setDirection",this.direction)}},computed:{checkDirection:function(){return"reduction"===this.direction?"red":"green"},innerText:function(){return"reduction"===this.direction?"В снижение":"В рост"}}},z=W,G=(n("bcf1"),Object(b["a"])(z,H,J,!1,null,"60206365",null)),K=G.exports,Q={name:"investment-form",components:{AmountInput:g,Multiplier:w,CurrencyRadios:A,CheckedInput:L,Button:K},data:function(){return{isCheckboxes:!1}},methods:{submitHandler:function(t){var e=Object.values(this.$store.getters.getValidate).every((function(t){return t}));e&&this.$store.dispatch("submitForm")}}},X=Q,Y=(n("78e7"),Object(b["a"])(X,o,l,!1,null,"71167aee",null)),Z=Y.exports,tt={name:"app",components:{InvestmentForm:Z},methods:{changeUrl:function(t){this.$store.commit("setUrl",t.target.value)}}},et=tt,nt=(n("5c0b"),Object(b["a"])(et,s,c,!1,null,null,null)),rt=nt.exports,it=n("9483");function at(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?at(Object(n),!0).forEach((function(e){Object(E["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}Object(it["a"])("".concat("/libertex/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),r["a"].use(q["a"]);var ct=new q["a"].Store({state:{url:"",amount:0,multiplier:0,total:0,currency:"dollar",profit:{checked:!1},loss:{checked:!1},direction:null,validate:{amount:!0,multiplier:!0,profit:!0,loss:!0}},mutations:{setAmount:function(t,e){t.amount=e,t.total=e*t.multiplier},setMultiplier:function(t,e){t.multiplier=e,t.total=t.amount*e},setCurrency:function(t,e){t.currency=e},setValue:function(t,e){var n=e.value,r=e.id,i=e.checked;if(n){var a="dollar"===t.currency?+n:t.total*+n/100;t[r].value=Math.round(a)}t[r].checked=i},setDirection:function(t,e){t.direction=e},setValidate:function(t,e){var n=st({},t.validate,{},e);t.validate=n},setUrl:function(t,e){t.url=e}},actions:{submitForm:function(t){var e=t.state,n=e.url,r=e.amount,i=e.multiplier,a=e.profit,s=e.loss,c=e.direction,o={sumInv:r,mult:i,direction:c};a.checked&&(o.takeProfit=a.value),s.checked&&(o.stopLoss=s.value),console.log(o),d.a.post(n,this.formData).then((function(t){console.log(t)}))}},getters:{getAmount:function(t){return t.amount},getMultiplier:function(t){return t.multiplier},getTotal:function(t){return t.total},getFormattedTotal:function(t){return t.total.toLocaleString()},getCurrency:function(t){return t.currency},getValidate:function(t){return t.validate}},modules:{}});n("907d");r["a"].config.productionTip=!1,r["a"].use(a.a),new r["a"]({store:ct,render:function(t){return t(rt)}}).$mount("#app")},"59a7":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var r=n("9c0c"),i=n.n(r);i.a},"742e":function(t,e,n){"use strict";var r=n("45b4"),i=n.n(r);i.a},"78e7":function(t,e,n){"use strict";var r=n("fbd7"),i=n.n(r);i.a},"907d":function(t,e,n){},"9c0c":function(t,e,n){},bcf1:function(t,e,n){"use strict";var r=n("59a7"),i=n.n(r);i.a},fbd7:function(t,e,n){}});
//# sourceMappingURL=app.288220c4.js.map